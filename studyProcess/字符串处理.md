#字符串处理
  字符串也是php中重要的数据类型之一。在web应用中，很多情况下需要对字符串进行处理和分析，这通常涉及到字符串的格式化，字符串的连接和分割，字符串的比较，查找等一系列操作。
  - **字符串类型的特点**
    因为php是弱类型语言，所以其他类型的数据一般可以直接应用于字符串的操作函数里，而自动转化成字符串类型进行处理。
    ```
    echo substr('123456' , 2,4);
    echo substr(123456,2,4);
    输出结果：
    34563456
    ```
    字符串还可以"视为数组"，字符串中的字符可以通过在字符串后用花括号指定所要输出的字符。
    ```
    $str = '123456';
    echo $str."\n";
    echo $str[0];

    123456
    1
    ```
    但将字符串看作字符集合时，并不是真正的数组。不能使用数组的处理函数操作。例如 `count($str)`是不能返回字符串的长度的。
    而php脚本引擎无法区分是字符串还是数组，会带来二义性。所以[]的方法在php4起已经过时。代替它的是{};
 - **双引号中变量解析总结**
   如果遇到`$`解析器会尽可能多的取得后面的字符以组成一个合法的变量名。如果想明示制定名字的结束，用花括号把变量名扩起来。
   在""中同样也可以解析数组索引或者对象属性。对于数组索引，]标志着索引的结束。对象的属性则和简单变量使用同样的规则，尽管对于对象属性没有像变量一样的小技巧。
   ```
    $arr = array('A'=>'yiyi' , 'B'=>'xiaoliu' , 'C'=>'xiaoyu');
    echo "A is $arr[A]";


    A is yiyi


    echo "A is $arr['A'].\n";//如果在关联数组下标使用引号就必须使用{}
    echo "A is {$arr['A']}."
    echo "A is {$arr[A]}."


    A is yiyi.
   ```
   用此语法可以在字符串中包含任何在名字空间中的值。仅仅用何在字符串之外同样的方法写一个表达式，然后用{和}包含起来。因为不能转义{，此语法仅在$紧跟在{后面使用。

 - **常用的字符串输出函数**
    - **echo()**
      该函数用于输出一个或多个字符串，是在php中使用最多的函数。因为使用它的效率要比其他字符串函数高。echo()实际上并不是一个函数(它是个语言结构)，因此你无须对其使用()。不过如果希望向echo()传递一个或多个参数那么使用括号就会发生解析错误。
    - **print()**
      该函数的功能和echo()相同,但它有返回值，若成功则返回1，失败则返回0。执行效率不如echo();
    - **die()**
      该函数是exit()函数的别名。若参数是一个字符串，则带函数在退出前输出它。若是一个整数，则被作为退出状态。退出状态在0~254之间。推出状态255由php保留。状态0由于成功终止程序。
    - **printf()**
      该函数用于输出格式化的字符串，和C语言的同名函数用法相同。第一个参数为必选项，是规定字符串及如何格式化其中的变量。还可以有多个可选参数，是规定插到第一个参数的格式化字符串中对应的%符号处的参数。
      ` printf("%s book is good" , $str , $number)`
    - **sprintf()**
      该函数用法与printf()用法类似。但他不是输出字符串，而是把格式后的字符串以返回值的形式写入一个变量。
      ` $txt = sprintf("%0.2f",$num)` 
##常用字符串格式化函数
  - **去除空格和字符串填补函数**
    ```
    string ltrim() //从字符串左侧删除空格或其他预定义字符
    string rtrim() //从字符串右侧删除空白字符或其他预定义字符
    string trin() //从字符串两端删除空白字符和预定义字符
    ```   
    处理后的结果都会以新字符串的形式返回。其中第一个参数是待处理的字符串，为必选项。第二个参数是过滤字符串，用于指定希望去除的特殊符号，为可选。
    默认情况
    " "  即空格
    "\0" 即NULL
    "\t" 即制表符
    "\n" 即新行
    "\r" 即回车
    str_pad()还可以按需求对字符串进行填补，可以用于一些敏感信息的保护。
    该函数有四个参数，第一个参数为必选项，指明要处理的字符串。第二个参数也是必选项，给定处理之后的字符串长度。第三个参数指定填补时所用的字符串，为可选参数，如果没有默认空格。第四个参数指定填补方向，他有三个可选值`STR_PAD_BOTH , STR_PAD_LEFT , STR_PAD_RIGHT`。默认为STR_PAD_RIGHT。
    ```
    $str = 'LUCK';
    echo str_pad($str , 6 ,"=",STR_PAD_LEFT)
    ```
 - **字符串大小写转化**
   php中提供了四个大些转化的函数，他们都只有一个可选参数，即传入要进行转换的字符串。
   - **strtoupper**
     用于将给定的字符串全部转换为大写字母。
   - **strtolower**
     用于将字符串全部转化为小写字母。
   - **ufirst**
   　用于将给定字符串首字母化为大写。
   -  **ucwords**
     将给定字符串中全部以空格分隔的单词首字母转化为大写。
 - **和HTML标签相关的字符串格式化**
   HTML的输入表单和输入的URL上附加资源是用户将数据提交给服务器的途径。如果不能很好处理就有可能成为黑客攻击服务器的入口。
   例如，用户在发布文章时，在文章中包含一些HTML格式标记或者JS的转向等代码，浏览器会按有效的代码去解释。所以在php脚本中，对用户的数据内容一定要先处理。
   - **nl2br()**
    在浏览器中输出的字符串只能通过HTML的`"<br>"`标记换行，而很多人习惯使用`"\n"`作为换行符，但是浏览器中不识别这个字符串的换行符。这个函数就是在字符串中的每一个新行`"\n"`之前插入HTML插入`<br>`。
   - **htmlspecialchars()**
    如果不希望浏览器直接解析HTML标记，就需要将标记中的特殊的字符转化为HTML实体。
    ```
     "&"  ->   "&amp"
     """  ->   "&quot"
     "'"  ->   "&#039"
     "<"  ->   "&lt"
     ">"  ->   "&gt"
     ```
    该函数的第一参数必选，为指定字符串。第二个参数可选，用来决定引号的转换方式，默认值ENT_COMPAT将只转换双引号，而保留单引号；ENT_QUOTES将同时转换这两种引号；而ENT_NOQUOTES将不对引号进行转换。第三个参数也是可选值，用于指定所处理字符串的字符集，默认字符集是`"ISO88511-1"`。
    ```
    $html = "<p> MISS YOU :</p>  'a song'   'GD'";
    echo htmlspecialchars($html , ENT_COMPAT);
    echo htmlspecialchars($html , ENT_QUOTES);
    echo htmlspecialchars($html , ENT_NOQUOTES);
     
    浏览器运行结果：
    <p> MISS YOU :</p> 'a song' 'GD'
    <p> MISS YOU :</p> 'a song' 'GD'
    <p> MISS YOU :</p> 'a song' 'GD'

    运行源代码：
    &lt;p&gt; MISS YOU :&lt;/p&gt;  'a song'   'GD'
    &lt;p&gt; MISS YOU :&lt;/p&gt;  &#039;a song&#039;   &#039;GD&#039;
    &lt;p&gt; MISS YOU :&lt;/p&gt;  'a song'   'GD'
    ``` 
  - **htmlentities()**
    此函数可以将所有的非ASCII码字符转换为对应的实体字符。
  - **stripslashes()**
    在处理表单提交的数据时，还需要对引号进行处理。因为被提交的表单数据中的`"'" , """ , "\"`等字符前将自动加上一个斜线`"\"`。这是由于php配置文件php.ini中的选项magic_quotes_gpc在起作用，默认是打开的，如果不关闭它则要使用此函数删除斜线。如果不处理，将数据保存到数据库中时，有可能被数据库误当成控制符号而引起错误(经过实测，第一个`\`会被省略，而且以`\`结尾会报错)。
    此函数就只有一个参数，即指定处理的字符串。
  - **strip_tags()**
    带函数用于删除相关的html标记。默认删除字符串中的所有HTML标签，也可以选择性的进行删除。
    该函数有两个参数，一个参数提供了要处理的字符串，是必选项。第二个参数是一个可选的HTML标签列表，放入该列表中的HTML标签将被保留，其他全被删除。
##其他字符串格式化函数
  - **strrev**
    该函数的作用是将输入的字符串进行反转。
  - **number_format()**
    该函数通过千位的分组来格式化数字。该函数支持一个，两个或四个参数。第一个参数为必选，提供被格式化的数字。默认会被格式化为不带小数点且以逗号为分隔符的数字。第二个参数为可选项，gui'din使用多少个小数位。如果设置，则以点号.作为小数点来格式化数字。第三个参数也是可选参数，规定用什么字符作为小数点。第四个参数也为可选参数，规定用作千分位分隔符的字符串。
  - **md5()**
    为了防止内部攻击，在用户注册时应该将密码加密后在添加到数据库中，这样可以防止内部攻击者直接查询数据表中的授权表，盗用合法用户的信息。
    md5()函数的作用就是将一个字符串进行MD5算法加密，默认返回一个32位的十六进制字符串。
    其中第一个参数表示待处理的字符串，是此选项。第二个参数为一个布尔值，是可选项。默认值为FALSE，返回一个32位的十六进制字符串。如果设置为TRUE，返回一个16位的二进制数。
    ```
    $password = "123456";
    echo md5($password);


    e10adc3949ba59abbe56e057f20f883e
    ```

##字符串比较函数
  - **按字节顺序进行字符串比较**
    - **strcmp()**
    - **strcasecmp()**
    该函数用法相似，都需要传入进行比较的两个字符串参数，按照字节的ASCII值从两个字符串的首字节开始比较，如果相等则进行下一个字节的比较，直至结束比较。
    若 str1 = str2  返回0
    若 str1 > str2  返回1
    若 str1 < str2  返回-1
    使用strcmp()函数区分字符串中字母大小写的比较，使用strcasecmp()函数忽略字符串大小写的比较。当然也可以对中文等多字节字符进行比较。
  - **按自然排序进行字符串比较**
    - **strnatcmp**
      所谓自然排序，是指按照人们的日常生活中的思维习惯进行排序，即将字符串中的数字部分按照数字大小进行比较。例如，按照字节比较时 "4" 大于 "33"，因为"4" 大于 "33"的第一个字符，而按照自然排序法则"33"大于"4"。

         